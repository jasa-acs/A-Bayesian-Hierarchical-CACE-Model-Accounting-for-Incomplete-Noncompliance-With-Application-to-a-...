# A Bayesian Hierarchical CACE Model Accounting for Incomplete Noncompliance With Application to a Meta-analysis of Epidural Analgesia on Cesarean Section
### Jincheng Zhou, James S. Hodges & Haitao Chu
# Author Contributions Checklist Form

## Data 

**Abstract** 

Noncompliance with assigned treatments is a common challenge in analyzing and interpreting randomized clinical trials (RCTs). One way to handle noncompliance is to estimate the complier- average causal effect (CACE), the intervention's efficacy in the subpopulation that complies with assigned treatment. In a two-step meta-analysis, one could first estimate CACE for each study, then combine them to estimate the population-averaged CACE. However, when some trials do not report noncompliance data, the two-step meta-analysis can be less efficient and potentially biased by excluding these trials. This paper proposes a flexible Bayesian hierarchical CACE framework to simultaneously account for heterogeneous and incomplete noncompliance data in a meta-analysis of RCTs. The models are motivated by and used for a meta-analysis estimating the CACE of epidural analgesia on cesarean section, in which only 10 out of 27 trials reported complete noncompliance data. The new analysis includes all 27 studies and the results present new insights on the causal effect after accounting for noncompliance. Compared to the estimated risk difference of 0.8% (95% CI: -0.3%, 1.9%) given by the two-step intention-to-treat meta-analysis, the estimated CACE is 4.1% (95% CrI: -0.3%, 10.5%). We also report simulation studies to evaluate the performance of the proposed method. 

**Availability** 

The data were published in Bannister-Tyrrell et al. (2015) [2] Table 1, so they are publicly available. The data are also available in the Github repository [https://github.com/JinchengZ/CACEmetaBayes.git.](https://github.com/JinchengZ/CACEmetaBayes.git) 

**Description** 

Link to the paper of Bannister-Tyrrell et al. (2015) [2]:  [https://www.sciencedirect.com/science/article/pii/S0895435614004557 ](https://www.sciencedirect.com/science/article/pii/S0895435614004557)The original data are listed in Table 1.   

We have organized the data into our manuscript (Table 1).  

## Code 

**Abstract** 

The software used to produce the results of this paper is in the form of R code. The R scripts for the motivating study analysis (Section 2.2), case study results (Section 4), and simulation (Section 5) are submitted along with the manuscript. In order to implement the provided scripts, JAGS 4.3.0 should be installed in the system, and R packages “MASS”, “coda” and “rjags” are required. For the epidural analgesia case study, we included the entire R scripts used for this section. The folder includes files for data preparation, model selection, and R code for generating Figure 1-Figure 4. The simulation study files all start with generating meta-analysis data using the true values, then fit models under different settings. 

**Description** 

All statistical analyses were performed using R version 3.4.3.  

The code used to produce the results of this paper has been deposited to the GitHub repository [https://github.com/JinchengZ/CACEmetaBayes.git.](https://github.com/JinchengZ/CACEmetaBayes.git)  

## Instructions for Use 

**Reproducibility** 

All figures and result tables from the manuscript can be reproduced using the R scripts in the CACEmetaBayes.zip file that is submitted along with the manuscript. The files are also available on the GitHub repository. JAGS is required to run models. Under the master folder “CACEmetaBayes”,  

1. the subfolder "data" contains the original .csv data file, as well as datasets created by running the “0. Data prep.R” R script; 
1. the subfolder "model" has all models for running the “1. Model selection.R” file; 
1. the subfolder “outputs” is the location where model outputs are saved, some of which are used as input data for Figure 1-Figure4;  
1. the subfolder "simulation" includes the simulation code for each setting, files for models and folders for storing outputs. 

When running the R code, please follow the order numbers named in each R script. The file “fun\_coda\_dic.R” is sourced by most other R scripts.  

Figure 1-Figure 4 from the manuscript are generated by running the R scripts “2. Figure1. Plot13.R”, “3. Figure2. density\_post.R”, “4. Figure3. plot27CACE\_addITT.R”, and “5. Figure4. MNARplot.R”, respectively.  

Values in Table 4 (Section 4.1 Model Selection Results) and Table W1 (Web supplement A Section in the Supplementary Materials) are obtained by running the R script “1. Model selection.R”.  

Table 5 in the Simulation Section (Section 5.2 Simulation Results) and Table W2-W3 in the Supplementary Materials (Section Web Supplement C) are created by running the R script “save.R”. However, prior to call this file, all simulation code named in the format of “Sim\*\_\*.R” and “select\*\_\*.R” under the folder “simulation” should be run to collect simulation results in each iteration.  

**References:**  

1. Anim‐Somuah, M., Smyth, R. M., & Jones, L. (2011). Epidural versus non‐epidural or no analgesia in labour. *Cochrane Database of Systematic Reviews*, (12). 
2. Bannister-Tyrrell, M., Miladinovic, B., Roberts, C. L., & Ford, J. B. (2015). Adjustment for compliance behavior in trials of epidural analgesia in labor using instrumental variable meta- analysis. *Journal of clinical epidemiology*, *68*(5), 525-533. 
